const a0_0x243100=a0_0x33ed;(function(_0x502f47,_0x892150){const _0x44ad4b=a0_0x33ed,_0xdd9cb8=_0x502f47();while(!![]){try{const _0x52b4aa=parseInt(_0x44ad4b(0x216))/0x1+parseInt(_0x44ad4b(0x1c8))/0x2*(parseInt(_0x44ad4b(0x175))/0x3)+-parseInt(_0x44ad4b(0x20c))/0x4*(-parseInt(_0x44ad4b(0x1fd))/0x5)+parseInt(_0x44ad4b(0x17b))/0x6*(-parseInt(_0x44ad4b(0x144))/0x7)+-parseInt(_0x44ad4b(0x18d))/0x8+-parseInt(_0x44ad4b(0x1e5))/0x9+-parseInt(_0x44ad4b(0x169))/0xa*(-parseInt(_0x44ad4b(0x1e9))/0xb);if(_0x52b4aa===_0x892150)break;else _0xdd9cb8['push'](_0xdd9cb8['shift']());}catch(_0xf6d9b8){_0xdd9cb8['push'](_0xdd9cb8['shift']());}}}(a0_0x16dd,0xb5f93));const crypto=globalThis['crypto'];function a0_0x16dd(){const _0x404b26=['tokenBadge','8162392yEgeHX','fneEc','get','Inwpb','Bearer\x20','tokenCount','error','messages','bGahE','floor','json','StOiM','SlCxt','jWovz','JKbgx','click','MrQJe','uSjxN','set','Escolha\x20um\x20arquivo\x20para\x20enviar.','Use\x20apenas\x20numeros.','authorizeBtn','QfEPM','bin','Falha','MgZux','getRandomValues','IYYVU','textContent','application/json','vTbno','query','restartBtn','randomUUID','Digite\x20uma\x20mensagem.','getTime','hAklo','https://api.lovable.dev/files/generate-upload-url','shiftKey','user','className','appendChild','Erro\x20ao\x20gerar\x20URL:\x20','success','token','kEutK','qdkCJ','value','OlZzj','key','requestBody','TsxNe','url','qsqjv','ZEuFX','IkuxD','pop','fileName','warn','8FbqUMx','MhFDY','files','Pronto','Erro\x20no\x20upload:\x20','Tokens\x20economizados:\x200','disabled','Erro\x20na\x20requisicao\x20(','atzhl','now','Falha\x20na\x20autorizacao.','DhNiD','log','authToken','forEach','gzrWU','Web\x20Crypto\x20API\x20unavailable\x20in\x20this\x20context.','object','ID\x20do\x20projeto\x20nao\x20identificado.','qhoKr','projectId','from','rWTqp','sXEzw','project\x20parse\x20error','getElementById','authStatus','uhmEI','Enter','450711HXFtxV','zoiWw','Erro\x20na\x20requisicao:\x20','cookies','3034273jhSYYD','aksrT','1|2|6|0|4|3|5','indexOf','jlENs','GjqCi','ubXxe','ekzqA','oiwtE','Anexo\x20pronto:\x20','Token\x20nao\x20disponivel\x20(clique\x20em\x20Autorizar).','uploadInput','vJorz','HTTP\x20','uSPHd','cLbxZ','vUaKn','iNNgR','test','history','51560RUZHaK','ryqSe','BWVZv','):\x20','xRrcR','Upload\x20desabilitado.','Erro\x20ao\x20autorizar:\x20','fOARl','Falha\x20ao\x20autorizar.','IParY','sessionToken','wirZA','FRKFV','toISOString','name','28mOvSvn','Gjcgd','bubble\x20','text','filePreview','Token\x20de\x20sessao\x20nao\x20encontrado\x20(cookie\x20lovable-session-id.id).','filter','Informe\x20o\x20identificador.','mHVCG','TZWvf','772676PXGpfM','Autorizado\x20para\x20','umsg_','KaGPY','createElement','Informe\x20o\x20identificador\x20e\x20clique\x20em\x20Autorizar.','Identificador\x20salvo;\x20clique\x20em\x20Autorizar\x20para\x20obter\x20token.','message','UnOmn','thiSP','preview','split','URL\x20de\x20upload\x20nao\x20retornada.','xFRLB','lQAOi','AKszK','7MbndzF','stringify','status','XTaMO','\x20(expira\x20em\x20','addEventListener','POST','1|2|0|3|4','qIcaC','string','CVHTN','RlGrU','xIFKc','dnJhv','PUT','fileId','headers','upload.bin','Autorizando...','keydown','type','mZVzL','trim','Enviando...','xOUjW','innerHTML','bot','wcEQO','local','fuTJo','random','http://177.155.208.215:4000/api/radioai-proxy','Gerando\x20URL\x20de\x20upload...','http://177.155.208.215:4000/api/radioai-authorization','push','tokenExpiresAt','Tokens\x20economizados:\x20','60NeMnrj','xMrYC','Digite\x20a\x20próxima\x20instrução\x20para\x20o\x20criador\x20de\x20sites.','Kbdwg','POEIv','Token\x20nao\x20disponivel.\x20Clique\x20em\x20Autorizar.','storage','NaiQS','dzvdS','0123456789abcdefghjkmnpqrstvwxyz','YpbIw','div','190767lLLdSq','pathname','tdcLg','Fqlfd','HxmlR','startsWith','5631198gyrNoD','mafXs','Token\x20recebido.','XqsWp','PNmWf','osiEI','sem\x20detalhes','DuUoh','VadpD','BZgGU','PYQfw','UDlWA','uploading','iVNur','application/octet-stream','projects','Upload\x20concluido.'];a0_0x16dd=function(){return _0x404b26;};return a0_0x16dd();}if(!crypto||!crypto[a0_0x243100(0x1a7)])throw new Error(a0_0x243100(0x1d8));const historyEl=document['getElementById'](a0_0x243100(0x1fc)),messageEl=document[a0_0x243100(0x1e1)]('message'),statusEl=document[a0_0x243100(0x1e1)](a0_0x243100(0x146)),sendBtn=document['getElementById']('sendBtn'),restartBtn=document['getElementById'](a0_0x243100(0x1ad)),tokenBadge=document['getElementById'](a0_0x243100(0x18c)),uploadInput=document[a0_0x243100(0x1e1)](a0_0x243100(0x1f4)),uploadBtn=document['getElementById']('uploadBtn'),fileInfoEl=document[a0_0x243100(0x1e1)]('fileInfo'),identifierInput=document['getElementById']('identifierInput'),authorizeBtn=document['getElementById'](a0_0x243100(0x1a2)),authStatus=document[a0_0x243100(0x1e1)](a0_0x243100(0x1e2));let projectId='',authToken='',sessionToken='',identifier='',tokenExpiresAt='',messages=[],tokenCount=0x0,fileMeta={'id':'','name':'','preview':''};const CROCKFORD32=a0_0x243100(0x172);function randomBytes(_0x4043ac){const _0x5b1c10=a0_0x243100,_0x528085=new Uint8Array(_0x4043ac);return crypto[_0x5b1c10(0x1a7)](_0x528085),_0x528085;}function encodeBase32BigInt(_0x563708,_0x1ea758){const _0x5cda21=a0_0x243100,_0xd62f7c={'UGjRZ':function(_0x3bb68d,_0x485133){return _0x3bb68d<_0x485133;},'TsxNe':function(_0x29326c,_0x9bba60){return _0x29326c+_0x9bba60;},'FRKFV':function(_0x3fe10f,_0xaebcf7){return _0x3fe10f(_0xaebcf7);},'LSJSZ':function(_0x2ac6d0,_0x524f9b){return _0x2ac6d0&_0x524f9b;}};let _0x1d09d0='';for(let _0x29684=0x0;_0xd62f7c['UGjRZ'](_0x29684,_0x1ea758);_0x29684++){_0x1d09d0=_0xd62f7c[_0x5cda21(0x1c0)](CROCKFORD32[_0xd62f7c[_0x5cda21(0x209)](Number,_0xd62f7c['LSJSZ'](_0x563708,0x1fn))],_0x1d09d0),_0x563708>>=0x5n;}return _0x1d09d0;}function bytesToBigInt(_0x1f437e){const _0x2c0993=a0_0x243100,_0x492429={'vUaKn':function(_0x170d30,_0x9c350a){return _0x170d30|_0x9c350a;},'fOARl':function(_0x167040,_0x3b87a8){return _0x167040<<_0x3b87a8;},'fneEc':function(_0x2df3d2,_0x25e948){return _0x2df3d2(_0x25e948);}};let _0x5e232f=0x0n;for(const _0xce827e of _0x1f437e)_0x5e232f=_0x492429[_0x2c0993(0x1f9)](_0x492429[_0x2c0993(0x204)](_0x5e232f,0x8n),_0x492429[_0x2c0993(0x18e)](BigInt,_0xce827e));return _0x5e232f;}function ulidLike(){const _0x5d6bfb=a0_0x243100,_0x35a455={'lQAOi':function(_0x4da859,_0x2e7217,_0x139228){return _0x4da859(_0x2e7217,_0x139228);},'mHVCG':function(_0x224be6,_0x16f392){return _0x224be6(_0x16f392);},'BZgGU':function(_0x51a75a,_0x1aa813){return _0x51a75a(_0x1aa813);},'POEIv':function(_0x5187a0,_0x174ea9){return _0x5187a0+_0x174ea9;}},_0x4bf5b7=BigInt(Date[_0x5d6bfb(0x1d1)]()),_0x1ce036=_0x35a455[_0x5d6bfb(0x142)](encodeBase32BigInt,_0x4bf5b7,0xa),_0x3ec068=_0x35a455[_0x5d6bfb(0x214)](randomBytes,0xa),_0x44a5fa=_0x35a455[_0x5d6bfb(0x184)](bytesToBigInt,_0x3ec068),_0x406e2d=encodeBase32BigInt(_0x44a5fa,0x10);return _0x35a455[_0x5d6bfb(0x16d)](_0x1ce036,_0x406e2d);}function makeId(_0x204bc3='umsg_'){const _0x50a0c9={'ANdBb':function(_0x1fe5d6,_0xe356eb){return _0x1fe5d6+_0xe356eb;}};return _0x50a0c9['ANdBb'](_0x204bc3,ulidLike());}console[a0_0x243100(0x1d4)](makeId(a0_0x243100(0x218)));function renderHistory(){const _0xf86378=a0_0x243100,_0x5b1d0c={'IParY':_0xf86378(0x174),'ubXxe':function(_0x1edece,_0x315221){return _0x1edece===_0x315221;},'mafXs':_0xf86378(0x15e),'xRrcR':_0xf86378(0x1b4)};historyEl[_0xf86378(0x15d)]='',messages[_0xf86378(0x1d6)](_0x53983c=>{const _0x4a9d67=_0xf86378,_0x2bf588=document[_0x4a9d67(0x21a)](_0x5b1d0c[_0x4a9d67(0x206)]);_0x2bf588[_0x4a9d67(0x1b5)]=_0x4a9d67(0x20e)+(_0x5b1d0c[_0x4a9d67(0x1ef)](_0x53983c[_0x4a9d67(0x1dd)],_0x5b1d0c[_0x4a9d67(0x17c)])?_0x5b1d0c[_0x4a9d67(0x17c)]:_0x5b1d0c[_0x4a9d67(0x201)]),_0x2bf588['textContent']=_0x53983c[_0x4a9d67(0x20f)],historyEl[_0x4a9d67(0x1b6)](_0x2bf588);}),historyEl['scrollTop']=historyEl['scrollHeight'];}function randomTokenCost(){const _0x58e064=a0_0x243100,_0x547d88={'swqRv':function(_0x1e18bf,_0x4989e8){return _0x1e18bf<_0x4989e8;},'gzrWU':function(_0x43f798,_0x12e7e8){return _0x43f798+_0x12e7e8;},'JKbgx':function(_0x28691a,_0x12c1a8){return _0x28691a*_0x12c1a8;}},_0x1d1ced=Math[_0x58e064(0x162)]();if(_0x547d88['swqRv'](_0x1d1ced,0.7))return _0x547d88[_0x58e064(0x1d7)](Math[_0x58e064(0x196)](Math[_0x58e064(0x162)]()*0x5),0x1);return _0x547d88[_0x58e064(0x1d7)](Math[_0x58e064(0x196)](_0x547d88[_0x58e064(0x19b)](Math[_0x58e064(0x162)](),0x5)),0x6);}function updateFileInfo(){const _0x55857d=a0_0x243100,_0x594577={'SlCxt':'Nenhum\x20arquivo\x20anexado'};if(!fileInfoEl)return;fileMeta['id']?fileInfoEl[_0x55857d(0x1a9)]=_0x55857d(0x1f2)+(fileMeta['name']||fileMeta['id']):fileInfoEl[_0x55857d(0x1a9)]=_0x594577[_0x55857d(0x199)];}function formatExpiration(_0x4aaaee){const _0x1fcba3=a0_0x243100;if(!_0x4aaaee)return'';const _0x52b79a=new Date(_0x4aaaee);if(Number['isNaN'](_0x52b79a[_0x1fcba3(0x1b0)]()))return'';return _0x52b79a[_0x1fcba3(0x20a)]()['replace']('T','\x20')['slice'](0x0,0x10);}function updateAuthStatus(_0x258ac5){const _0x5467f6=a0_0x243100,_0xfc90b6={'atzhl':function(_0x4eb350,_0x1d42cc){return _0x4eb350(_0x1d42cc);},'jlENs':_0x5467f6(0x21c)};if(_0x258ac5){authStatus[_0x5467f6(0x1a9)]=_0x258ac5;return;}if(!identifier){authStatus['textContent']=_0x5467f6(0x21b);return;}if(authToken){const _0x414ada=_0xfc90b6[_0x5467f6(0x1d0)](formatExpiration,tokenExpiresAt),_0x462168=_0x414ada?_0x5467f6(0x148)+_0x414ada+')':'';authStatus[_0x5467f6(0x1a9)]=_0x5467f6(0x217)+identifier+_0x462168;return;}authStatus['textContent']=_0xfc90b6[_0x5467f6(0x1ed)];}function asBearer(_0x402289){const _0x1caba5=a0_0x243100,_0x528f82={'rWTqp':_0x1caba5(0x191)};if(!_0x402289)return'';return _0x402289[_0x1caba5(0x17a)](_0x528f82[_0x1caba5(0x1de)])?_0x402289:_0x1caba5(0x191)+_0x402289;}function a0_0x33ed(_0xf4ae94,_0x15583a){_0xf4ae94=_0xf4ae94-0x142;const _0x16dd09=a0_0x16dd();let _0x33edb9=_0x16dd09[_0xf4ae94];return _0x33edb9;}function isValidProjectId(_0x4e862a){const _0x59f16e=a0_0x243100,_0x2edd04={'Kbdwg':function(_0x37e046,_0x3413d2){return _0x37e046!==_0x3413d2;}};if(!_0x4e862a||_0x2edd04[_0x59f16e(0x16c)](typeof _0x4e862a,_0x59f16e(0x14d)))return![];return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/[_0x59f16e(0x1fb)](_0x4e862a['trim']());}async function loadState(){const _0x506daa=a0_0x243100,_0x4ad840={'DhNiD':_0x506daa(0x194),'BaeqU':_0x506daa(0x1dc),'wirZA':_0x506daa(0x1d5),'xFRLB':_0x506daa(0x207),'zoiWw':_0x506daa(0x167),'hAklo':'fileName','mZVzL':_0x506daa(0x210),'OlZzj':'bot','ekzqA':_0x506daa(0x16b),'XTaMO':function(_0x4c7a2c,_0x39f196){return _0x4c7a2c(_0x39f196);},'aksrT':function(_0x512594){return _0x512594();},'AKszK':function(_0x4a387d){return _0x4a387d();},'IYYVU':function(_0x732d2c){return _0x732d2c();}},_0x1ea804=await chrome['storage'][_0x506daa(0x160)][_0x506daa(0x18f)]([_0x4ad840[_0x506daa(0x1d3)],_0x506daa(0x192),_0x4ad840['BaeqU'],_0x4ad840[_0x506daa(0x208)],_0x4ad840[_0x506daa(0x223)],'identifier',_0x4ad840[_0x506daa(0x1e6)],'fileId',_0x4ad840[_0x506daa(0x1b1)],_0x4ad840[_0x506daa(0x159)]]);messages=_0x1ea804['messages']||[{'from':_0x4ad840[_0x506daa(0x1bd)],'text':_0x4ad840[_0x506daa(0x1f0)]}],tokenCount=_0x1ea804['tokenCount']||0x0;_0x1ea804[_0x506daa(0x1dc)]&&_0x4ad840[_0x506daa(0x147)](isValidProjectId,_0x1ea804[_0x506daa(0x1dc)])?projectId=_0x1ea804[_0x506daa(0x1dc)]:projectId='';if(_0x1ea804['authToken'])authToken=_0x1ea804[_0x506daa(0x1d5)];if(_0x1ea804[_0x506daa(0x207)])sessionToken=_0x1ea804[_0x506daa(0x207)];if(_0x1ea804['identifier'])identifier=_0x1ea804['identifier'];if(_0x1ea804[_0x506daa(0x167)])tokenExpiresAt=_0x1ea804[_0x506daa(0x167)];(_0x1ea804[_0x506daa(0x153)]||_0x1ea804['fileName']||_0x1ea804['filePreview'])&&(fileMeta={'id':_0x1ea804[_0x506daa(0x153)]||'','name':_0x1ea804[_0x506daa(0x1c6)]||'','preview':_0x1ea804[_0x506daa(0x210)]||''});if(identifierInput)identifierInput[_0x506daa(0x1bc)]=identifier;tokenBadge['textContent']=_0x506daa(0x168)+tokenCount,_0x4ad840[_0x506daa(0x1ea)](renderHistory),_0x4ad840[_0x506daa(0x143)](updateFileInfo),_0x4ad840[_0x506daa(0x1a8)](updateAuthStatus);}async function saveState(){const _0x28df24=a0_0x243100;await chrome[_0x28df24(0x16f)][_0x28df24(0x160)][_0x28df24(0x19f)]({'messages':messages,'tokenCount':tokenCount,'projectId':projectId,'authToken':authToken,'sessionToken':sessionToken,'identifier':identifier,'tokenExpiresAt':tokenExpiresAt,'fileId':fileMeta['id'],'fileName':fileMeta[_0x28df24(0x20b)],'filePreview':fileMeta[_0x28df24(0x220)]});}function extractProjectIdFromUrl(_0x224693){const _0x233576=a0_0x243100,_0x34c4e1={'PYQfw':function(_0x57b3a7,_0x474d20){return _0x57b3a7(_0x474d20);},'qsqjv':_0x233576(0x18a),'cLbxZ':function(_0x4928d3,_0x35c2b5){return _0x4928d3!==_0x35c2b5;},'sXEzw':function(_0x3e7c4c,_0x29e7bc){return _0x3e7c4c(_0x29e7bc);},'dnJhv':function(_0x19f81b,_0x42b6f8){return _0x19f81b+_0x42b6f8;},'YpbIw':_0x233576(0x1e0)};try{const _0x24cd0f=new URL(_0x224693),_0x33aa31=_0x24cd0f[_0x233576(0x176)]['match'](/\/projects\/([^/?#]+)/);if(_0x33aa31?.[0x1]&&_0x34c4e1[_0x233576(0x185)](isValidProjectId,_0x33aa31[0x1]))return _0x33aa31[0x1];const _0xe1fd9f=_0x24cd0f[_0x233576(0x176)][_0x233576(0x221)]('/')[_0x233576(0x212)](Boolean),_0xc320c7=_0xe1fd9f[_0x233576(0x1ec)](_0x34c4e1[_0x233576(0x1c2)]);if(_0x34c4e1[_0x233576(0x1f8)](_0xc320c7,-0x1)&&_0xe1fd9f[_0xc320c7+0x1]&&_0x34c4e1[_0x233576(0x1df)](isValidProjectId,_0xe1fd9f[_0x34c4e1[_0x233576(0x151)](_0xc320c7,0x1)]))return _0xe1fd9f[_0xc320c7+0x1];return'';}catch(_0x415e83){return console[_0x233576(0x1c7)](_0x34c4e1[_0x233576(0x173)],_0x415e83),'';}}async function getProjectFromActiveTab(){const _0x958c38=a0_0x243100,_0x2cbb58={'MhFDY':function(_0x1ec619,_0x16b086){return _0x1ec619(_0x16b086);},'qIcaC':function(_0x247b72,_0x39af6e){return _0x247b72(_0x39af6e);},'TZAIq':function(_0x166122){return _0x166122();}},[_0x455498]=await chrome['tabs'][_0x958c38(0x1ac)]({'active':!![],'currentWindow':!![]});if(!_0x455498?.[_0x958c38(0x1c1)])return'';const _0x27def6=_0x2cbb58[_0x958c38(0x1c9)](extractProjectIdFromUrl,_0x455498[_0x958c38(0x1c1)]);if(!_0x2cbb58[_0x958c38(0x14c)](isValidProjectId,_0x27def6))return'';const _0x398d1a=_0x27def6!==projectId;projectId=_0x27def6;if(_0x398d1a)await _0x2cbb58['TZAIq'](saveState);return projectId;}async function refreshSessionToken(){const _0x2a4b50=a0_0x243100,_0x1a2d65={'XOsGB':'https://lovable.dev/','thiSP':'lovable-session-id.id','DuUoh':function(_0x5a89de){return _0x5a89de();},'HvqUf':function(_0x321b81,_0xfd24a5){return _0x321b81!==_0xfd24a5;}};try{const _0x17d8a2=await chrome[_0x2a4b50(0x1e8)][_0x2a4b50(0x18f)]({'url':_0x1a2d65['XOsGB'],'name':_0x1a2d65[_0x2a4b50(0x21f)]}),_0xc18516=_0x17d8a2?.['value']||'';if(!_0xc18516)return sessionToken='',await _0x1a2d65['DuUoh'](saveState),'';return _0x1a2d65['HvqUf'](_0xc18516,sessionToken)&&(sessionToken=_0xc18516,await _0x1a2d65[_0x2a4b50(0x182)](saveState)),sessionToken;}catch(_0x31ccb7){return console[_0x2a4b50(0x1c7)]('cookie\x20read\x20error',_0x31ccb7),sessionToken='',await _0x1a2d65[_0x2a4b50(0x182)](saveState),'';}}async function authorize(){const _0x3fde4c=a0_0x243100,_0x3cb719={'qdkCJ':function(_0x3ecdf5,_0x56e8d0){return _0x3ecdf5(_0x56e8d0);},'MrQJe':_0x3fde4c(0x213),'fuTJo':_0x3fde4c(0x1a1),'Gjcgd':function(_0x3f8e23){return _0x3f8e23();},'kEutK':_0x3fde4c(0x156),'xOUjW':function(_0x277d96,_0x55be2a,_0x342f31){return _0x277d96(_0x55be2a,_0x342f31);},'ZEuFX':_0x3fde4c(0x165),'oiwtE':_0x3fde4c(0x14a),'rCCWm':_0x3fde4c(0x1aa),'GetdU':function(_0x44a93d,_0x4f0a20){return _0x44a93d===_0x4f0a20;},'KaGPY':_0x3fde4c(0x205),'WDDsJ':'Token\x20nao\x20retornado.','Fqlfd':_0x3fde4c(0x17d)},_0x5d8588=(identifierInput[_0x3fde4c(0x1bc)]||'')[_0x3fde4c(0x15a)]();if(!_0x5d8588){_0x3cb719[_0x3fde4c(0x1bb)](updateAuthStatus,_0x3cb719[_0x3fde4c(0x19d)]);return;}if(!/^\d+$/[_0x3fde4c(0x1fb)](_0x5d8588)){updateAuthStatus(_0x3cb719[_0x3fde4c(0x161)]);return;}const _0x3183d0=_0x5d8588!==identifier;identifier=_0x5d8588;_0x3183d0&&(authToken='',tokenExpiresAt='');await _0x3cb719[_0x3fde4c(0x20d)](saveState),authorizeBtn[_0x3fde4c(0x1ce)]=!![],statusEl[_0x3fde4c(0x1a9)]=_0x3fde4c(0x156),_0x3cb719[_0x3fde4c(0x1bb)](updateAuthStatus,_0x3cb719[_0x3fde4c(0x1ba)]);try{const _0x357fde=await _0x3cb719[_0x3fde4c(0x15c)](fetch,_0x3cb719[_0x3fde4c(0x1c3)],{'method':_0x3cb719[_0x3fde4c(0x1f1)],'headers':{'content-type':_0x3cb719['rCCWm']},'body':JSON[_0x3fde4c(0x145)]({'identificador':identifier})});if(!_0x357fde['ok'])throw new Error(_0x3fde4c(0x1f6)+_0x357fde[_0x3fde4c(0x146)]);const _0x5736dd=await _0x357fde[_0x3fde4c(0x197)]();if(_0x3cb719['GetdU'](_0x5736dd?.[_0x3fde4c(0x1b8)],![]))throw new Error(_0x5736dd?.[_0x3fde4c(0x193)]||_0x3cb719[_0x3fde4c(0x219)]);if(!_0x5736dd?.[_0x3fde4c(0x1b9)])throw new Error(_0x3cb719['WDDsJ']);authToken=_0x5736dd[_0x3fde4c(0x1b9)],tokenExpiresAt=_0x5736dd['expires_at']||'',await _0x3cb719[_0x3fde4c(0x20d)](saveState),_0x3cb719['Gjcgd'](updateAuthStatus),statusEl[_0x3fde4c(0x1a9)]=_0x3cb719[_0x3fde4c(0x178)];}catch(_0x46bad2){const _0x188592=_0x46bad2?.[_0x3fde4c(0x21d)]||_0x46bad2;_0x3cb719['qdkCJ'](updateAuthStatus,_0x3fde4c(0x203)+_0x188592),statusEl[_0x3fde4c(0x1a9)]=_0x3fde4c(0x1d2);}finally{authorizeBtn[_0x3fde4c(0x1ce)]=![];}}function genFileName(_0x4d3c0c){const _0xef93c2=a0_0x243100,_0x446559={'RlGrU':_0xef93c2(0x1a4)},_0x5d72fb=crypto[_0xef93c2(0x1ae)]?crypto['randomUUID']():Date['now']()+'-'+Math['random'](),_0x453562=_0x4d3c0c&&_0x4d3c0c['includes']('.')?_0x4d3c0c[_0xef93c2(0x221)]('.')[_0xef93c2(0x1c5)]():_0x446559[_0xef93c2(0x14f)];return _0x5d72fb+'.'+_0x453562;}async function uploadFile(){const _0x1dcc0e=a0_0x243100,_0x1fcb84={'ZOOdb':function(_0x39ed16,_0x7423cc){return _0x39ed16||_0x7423cc;},'ryqSe':_0x1dcc0e(0x202),'PNmWf':_0x1dcc0e(0x1a0),'JseQY':_0x1dcc0e(0x164),'Inwpb':function(_0x518e93,_0x57685f){return _0x518e93(_0x57685f);},'StOiM':_0x1dcc0e(0x155),'VadpD':function(_0x561282,_0x2054fa,_0x5412c1){return _0x561282(_0x2054fa,_0x5412c1);},'BWVZv':_0x1dcc0e(0x1b2),'tdcLg':_0x1dcc0e(0x1aa),'iVNur':_0x1dcc0e(0x189),'osiEI':_0x1dcc0e(0x187),'iNNgR':_0x1dcc0e(0x222),'GjqCi':'Enviando\x20arquivo...','MgZux':_0x1dcc0e(0x152),'XqsWp':function(_0x46b0fc){return _0x46b0fc();},'UIfyT':_0x1dcc0e(0x18b)};if(_0x1fcb84['ZOOdb'](!uploadInput,!uploadBtn)){statusEl[_0x1dcc0e(0x1a9)]=_0x1fcb84[_0x1dcc0e(0x1fe)];return;}const _0x33caee=uploadInput[_0x1dcc0e(0x1ca)]?.[0x0];if(!_0x33caee){statusEl[_0x1dcc0e(0x1a9)]=_0x1fcb84[_0x1dcc0e(0x17f)];return;}const _0x22a3af=asBearer(authToken);if(!_0x22a3af){statusEl['textContent']=_0x1dcc0e(0x1f3);return;}statusEl[_0x1dcc0e(0x1a9)]=_0x1fcb84['JseQY'],uploadBtn['disabled']=!![];try{const _0x46fd10=_0x1fcb84[_0x1dcc0e(0x190)](genFileName,_0x33caee[_0x1dcc0e(0x20b)]||_0x1fcb84[_0x1dcc0e(0x198)]),_0x55d9fb=await _0x1fcb84[_0x1dcc0e(0x183)](fetch,_0x1fcb84[_0x1dcc0e(0x1ff)],{'method':_0x1dcc0e(0x14a),'headers':{'content-type':_0x1fcb84[_0x1dcc0e(0x177)],'Authorization':_0x22a3af},'body':JSON[_0x1dcc0e(0x145)]({'file_name':_0x46fd10,'content_type':_0x33caee[_0x1dcc0e(0x158)]||_0x1fcb84[_0x1dcc0e(0x188)],'status':_0x1fcb84[_0x1dcc0e(0x180)]})});if(!_0x55d9fb['ok']){statusEl[_0x1dcc0e(0x1a9)]=_0x1dcc0e(0x1b7)+_0x55d9fb[_0x1dcc0e(0x146)],uploadBtn[_0x1dcc0e(0x1ce)]=![];return;}const _0x34e12b=await _0x55d9fb[_0x1dcc0e(0x197)](),_0x403aaa=_0x34e12b[_0x1dcc0e(0x1c1)];if(!_0x403aaa){statusEl[_0x1dcc0e(0x1a9)]=_0x1fcb84[_0x1dcc0e(0x1fa)],uploadBtn['disabled']=![];return;}statusEl[_0x1dcc0e(0x1a9)]=_0x1fcb84[_0x1dcc0e(0x1ee)];const _0x39cd76=await _0x1fcb84[_0x1dcc0e(0x183)](fetch,_0x403aaa,{'method':_0x1fcb84[_0x1dcc0e(0x1a6)],'headers':{'content-type':_0x33caee[_0x1dcc0e(0x158)]||_0x1fcb84[_0x1dcc0e(0x188)]},'body':_0x33caee});if(!_0x39cd76['ok']){statusEl[_0x1dcc0e(0x1a9)]=_0x1dcc0e(0x1cc)+_0x39cd76[_0x1dcc0e(0x146)],uploadBtn['disabled']=![];return;}fileMeta={'id':_0x46fd10,'name':_0x33caee['name']||_0x46fd10,'preview':_0x403aaa[_0x1dcc0e(0x221)]('?')[0x0]},await _0x1fcb84[_0x1dcc0e(0x17e)](saveState),updateFileInfo(),statusEl[_0x1dcc0e(0x1a9)]=_0x1fcb84['UIfyT'];}catch(_0x1ce8f9){statusEl['textContent']='Erro\x20no\x20upload:\x20'+_0x1ce8f9;}finally{uploadBtn[_0x1dcc0e(0x1ce)]=![];}}async function sendMessage(){const _0x3d4dee=a0_0x243100,_0x4b5dca={'dzvdS':function(_0x107dbf,_0x556b25){return _0x107dbf(_0x556b25);},'xIFKc':function(_0x3e0d08){return _0x3e0d08();},'UDlWA':function(_0x59681b,_0x286fd0){return _0x59681b(_0x286fd0);},'uSPHd':_0x3d4dee(0x15b),'UnOmn':_0x3d4dee(0x1b4),'vTbno':function(_0x19393d){return _0x19393d();},'zEMTF':'arquivo','TZWvf':_0x3d4dee(0x14a),'xMrYC':_0x3d4dee(0x1aa),'wcEQO':'content-type','NaiQS':function(_0x7626bd,_0x52de62){return _0x7626bd===_0x52de62;},'uhmEI':_0x3d4dee(0x1d9),'jWovz':function(_0xa2fff2,_0x1e6be4){return _0xa2fff2!==_0x1e6be4;},'vJorz':_0x3d4dee(0x14d),'CVHTN':_0x3d4dee(0x15e),'QfEPM':function(_0x34aecb){return _0x34aecb();},'HxmlR':function(_0x1cb76d){return _0x1cb76d();},'uSjxN':'Enviado'},_0x540d37=messageEl[_0x3d4dee(0x1bc)][_0x3d4dee(0x15a)]();if(!_0x540d37){statusEl[_0x3d4dee(0x1a9)]=_0x3d4dee(0x1af);return;}const _0x55076e=await getProjectFromActiveTab();if(_0x55076e)projectId=_0x55076e;if(!_0x4b5dca[_0x3d4dee(0x171)](isValidProjectId,projectId)){statusEl[_0x3d4dee(0x1a9)]=_0x3d4dee(0x1da);return;}const _0x5002a9=await _0x4b5dca[_0x3d4dee(0x150)](refreshSessionToken);if(!_0x5002a9){statusEl[_0x3d4dee(0x1a9)]=_0x3d4dee(0x211);return;}const _0xe89434=_0x4b5dca[_0x3d4dee(0x186)](asBearer,authToken);if(!_0xe89434){statusEl[_0x3d4dee(0x1a9)]=_0x3d4dee(0x16e),_0x4b5dca[_0x3d4dee(0x150)](updateAuthStatus);return;}sendBtn['disabled']=!![],statusEl[_0x3d4dee(0x1a9)]=_0x4b5dca[_0x3d4dee(0x1f7)],messages['push']({'from':_0x4b5dca[_0x3d4dee(0x21e)],'text':_0x540d37}),renderHistory(),await _0x4b5dca[_0x3d4dee(0x1ab)](saveState);const _0x511ae5={'idpage':projectId,'token':_0x5002a9,'requestBody':{'message':_0x540d37}};fileMeta['id']&&(_0x511ae5[_0x3d4dee(0x1bf)][_0x3d4dee(0x1ca)]=[{'file_id':fileMeta['id'],'file_name':fileMeta['name']||_0x4b5dca['zEMTF'],'preview_url':fileMeta[_0x3d4dee(0x220)]||'','uploadSuccess':!![]}]);const _0x472c84=_0x3d4dee(0x163);try{const _0x533353=await fetch(_0x472c84,{'method':_0x4b5dca[_0x3d4dee(0x215)],'headers':{'content-type':_0x4b5dca[_0x3d4dee(0x16a)],'Authorization':_0xe89434},'body':JSON[_0x3d4dee(0x145)](_0x511ae5)}),_0x34188c=_0x533353[_0x3d4dee(0x154)][_0x3d4dee(0x18f)](_0x4b5dca[_0x3d4dee(0x15f)])||'',_0x5bb923=_0x34188c['includes']('application/json'),_0x17e2d3=_0x5bb923?await _0x533353[_0x3d4dee(0x197)]():await _0x533353[_0x3d4dee(0x20f)](),_0x2edbf6=_0x4b5dca[_0x3d4dee(0x170)](typeof _0x17e2d3,_0x4b5dca[_0x3d4dee(0x1e3)])&&_0x4b5dca[_0x3d4dee(0x19a)](_0x17e2d3,null)?_0x17e2d3['success']!==![]:_0x533353['ok'];if(!_0x533353['ok']||!_0x2edbf6){const _0x501780=_0x4b5dca[_0x3d4dee(0x170)](typeof _0x17e2d3,_0x4b5dca[_0x3d4dee(0x1f5)])?_0x17e2d3:_0x17e2d3?JSON[_0x3d4dee(0x145)](_0x17e2d3):_0x3d4dee(0x181),_0x3db842=_0x3d4dee(0x1cf)+_0x533353[_0x3d4dee(0x146)]+_0x3d4dee(0x200)+_0x501780;messages[_0x3d4dee(0x166)]({'from':_0x4b5dca[_0x3d4dee(0x14e)],'text':_0x3db842}),await _0x4b5dca['xIFKc'](saveState),_0x4b5dca[_0x3d4dee(0x1ab)](renderHistory),statusEl[_0x3d4dee(0x1a9)]=_0x3d4dee(0x1a5),sendBtn['disabled']=![];return;}const _0x909be9='Mensagem\x20enviada\x20com\x20sucesso.';messages[_0x3d4dee(0x166)]({'from':_0x4b5dca[_0x3d4dee(0x14e)],'text':_0x909be9}),tokenCount+=_0x4b5dca['QfEPM'](randomTokenCost),tokenBadge[_0x3d4dee(0x1a9)]='Tokens\x20economizados:\x20'+tokenCount,await _0x4b5dca[_0x3d4dee(0x179)](saveState),_0x4b5dca[_0x3d4dee(0x1a3)](renderHistory),statusEl[_0x3d4dee(0x1a9)]=_0x4b5dca[_0x3d4dee(0x19e)],messageEl['value']='';}catch(_0x4fd5c7){statusEl[_0x3d4dee(0x1a9)]=_0x3d4dee(0x1e7)+_0x4fd5c7;}finally{sendBtn[_0x3d4dee(0x1ce)]=![];}}async function restart(){const _0x2176ca=a0_0x243100,_0x58552f={'owyPz':'bot','dYjJi':function(_0x385e64){return _0x385e64();},'bGahE':_0x2176ca(0x1cb),'IkuxD':_0x2176ca(0x1cd)},_0xbeda1b=_0x2176ca(0x1eb)[_0x2176ca(0x221)]('|');let _0x5c8c47=0x0;while(!![]){switch(_0xbeda1b[_0x5c8c47++]){case'0':messageEl['value']='';continue;case'1':messages=[{'from':_0x58552f['owyPz'],'text':_0x2176ca(0x16b)}];continue;case'2':tokenCount=0x0;continue;case'3':await _0x58552f['dYjJi'](saveState);continue;case'4':statusEl[_0x2176ca(0x1a9)]=_0x58552f[_0x2176ca(0x195)];continue;case'5':renderHistory();continue;case'6':tokenBadge[_0x2176ca(0x1a9)]=_0x58552f[_0x2176ca(0x1c4)];continue;}break;}}sendBtn['addEventListener'](a0_0x243100(0x19c),sendMessage),restartBtn['addEventListener'](a0_0x243100(0x19c),restart);if(uploadBtn)uploadBtn[a0_0x243100(0x149)]('click',uploadFile);if(authorizeBtn)authorizeBtn['addEventListener'](a0_0x243100(0x19c),authorize);messageEl[a0_0x243100(0x149)](a0_0x243100(0x157),_0xd9fbee=>{const _0x85afa6=a0_0x243100,_0x254a0e={'xgwJS':function(_0x43d677){return _0x43d677();}};_0xd9fbee[_0x85afa6(0x1be)]===_0x85afa6(0x1e4)&&!_0xd9fbee[_0x85afa6(0x1b3)]&&(_0xd9fbee['preventDefault'](),_0x254a0e['xgwJS'](sendMessage));}),((async()=>{const _0x3afe8c=a0_0x243100,_0x2f678f={'Wouwr':_0x3afe8c(0x14b),'qhoKr':function(_0x1777c8){return _0x1777c8();}},_0x47aaed=_0x2f678f['Wouwr'][_0x3afe8c(0x221)]('|');let _0x7f8e7a=0x0;while(!![]){switch(_0x47aaed[_0x7f8e7a++]){case'0':await refreshSessionToken();continue;case'1':await _0x2f678f['qhoKr'](loadState);continue;case'2':await getProjectFromActiveTab();continue;case'3':_0x2f678f[_0x3afe8c(0x1db)](renderHistory);continue;case'4':_0x2f678f['qhoKr'](updateAuthStatus);continue;}break;}})());